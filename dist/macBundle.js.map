{"version":3,"file":"macBundle.js","mappings":"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","sources":["webpack://portfolio/./entry/mac.js","webpack://portfolio/./src/actionCreator.js","webpack://portfolio/./src/constant.js","webpack://portfolio/./src/reducer.js","webpack://portfolio/./src/selector.js","webpack://portfolio/./src/state.js","webpack://portfolio/./src/utilis.js","webpack://portfolio/./views/common.jsx","webpack://portfolio/./views/mac.jsx"],"sourcesContent":["const { App } = require('../views/mac.jsx'),\n{ render } = require('react-dom'),\n{ createStore } = require('redux'),\n{ Provider } = require('react-redux'),\nReducer = require('../src/reducer.js'),\n{ state, macDock, macKindImage, windowKindImage, leadApp, aboutView, skills, projects } = require('../src/state.js'),\nReact = require('react');\n\nvar store;\n\nstate.DockItems = macDock;\nstate.KindImg = macKindImage;\nstate.leadApp = leadApp;\nstate.aboutView = aboutView;\nstate.skills = skills;\nstate.projects = projects;\n\nstore = createStore(Reducer,state);\n\nrender(<Provider store={store}><App /></Provider>, document.body);","const C = require('./constant.js');\n\nfunction addEntry(payload){\n\treturn {\n\t\ttype: C.ADD_ENTRY,\n\t\tpayload\n\t}\n}\n\nfunction removeEntry(payload){\n\treturn {\n\t\ttype: C.REMOVE_ENTRY,\n\t\tpayload\n\t}\n}\n\nfunction openFolder(payload){\n\treturn {\n\t\ttype: C.OPEN_FOLDER,\n\t\tpayload\n\t}\n}\n\nfunction closeFolder(payload){\n\treturn {\n\t\ttype: C.CLOSE_FOLDER,\n\t\tpayload\n\t}\n}\n\nfunction minimizeFolder(payload){\n\treturn {\n\t\ttype: C.MINIMIZE_FOLDER,\n\t\tpayload\n\t}\n}\n\nfunction deminimizeFolder(payload){\n\treturn {\n\t\ttype: C.DEMINIMIZE_FOLDER,\n\t\tpayload\n\t}\n}\n\nfunction openFrame(payload){\n\treturn {\n\t\ttype: C.OPEN_FRAME,\n\t\tpayload\n\t}\n}\n\nfunction closeFrame(payload){\n\treturn {\n\t\ttype: C.CLOSE_FRAME,\n\t\tpayload\n\t}\n}\n\nfunction minimizeFrame(payload){\n\treturn {\n\t\ttype: C.MINIMIZE_FRAME,\n\t\tpayload\n\t}\n}\n\nfunction deminimizeFrame(payload){\n\treturn {\n\t\ttype: C.DEMINIMIZE_FRAME,\n\t\tpayload\n\t}\n}\n\nfunction closeFile(payload){\n\treturn {\n\t\ttype: C.CLOSE_FILE,\n\t\tpayload\n\t}\n}\n\nfunction minimizeFile(payload){\n\treturn {\n\t\ttype: C.MINIMIZE_FILE,\n\t\tpayload\n\t}\n}\n\nfunction openFile(payload){\n\treturn {\n\t\ttype: C.OPEN_FILE,\n\t\tpayload\n\t}\n}\n\nfunction saveFile(payload){\n\treturn {\n\t\ttype: C.SAVE_FILE,\n\t\tpayload\n\t}\n}\n\nfunction deminimizeFile(payload){\n\treturn {\n\t\ttype: C.DEMINIMIZE_FILE,\n\t\tpayload\n\t}\n}\n\nfunction setLeadApp(payload){\n\treturn {\n\t\ttype: C.SET_LEAD_APP,\n\t\tpayload\n\t}\n}\n\nfunction setAboutInView(payload){\n\treturn {\n\t\ttype: C.SET_ABOUT_IN_VIEW,\n\t\tpayload\n\t}\n}\n\nfunction setLoading(payload){\n\treturn {\n\t\ttype: C.SET_LOADING,\n\t\tpayload\n\t}\n}\n\nexports.addEntry = addEntry;\nexports.removeEntry = removeEntry;\nexports.openFolder = openFolder;\nexports.closeFolder = closeFolder;\nexports.minimizeFolder = minimizeFolder;\nexports.deminimizeFolder = deminimizeFolder;\nexports.openFrame = openFrame;\nexports.closeFrame = closeFrame;\nexports.minimizeFrame = minimizeFrame;\nexports.deminimizeFrame = deminimizeFrame;\nexports.closeFile = closeFile;\nexports.minimizeFile = minimizeFile;\nexports.openFile = openFile;\nexports.deminimizeFile = deminimizeFile;\nexports.saveFile = saveFile;\nexports.setLeadApp = setLeadApp;\nexports.setAboutInView = setAboutInView;\nexports.setLoading = setLoading;","module.exports = {\n\tADD_ENTRY: \"ADD ENTRY\",\n\tREMOVE_ENTRY: \"REMOVE ENTRY\",\n\tOPEN_FOLDER: \"OPEN FOLDER\",\n\tCLOSE_FOLDER: 'CLOSE_FOLDER',\n\tMINIMIZE_FOLDER: 'MINIMIZE FOLDER',\n\tDEMINIMIZE_FOLDER: 'DEMINIMIZE FOLDER',\n\tOPEN_FRAME: 'OPEN FRAME',\n\tCLOSE_FRAME: 'CLOSE_FRAME',\n\tMINIMIZE_FRAME: 'MINIMIZE FRAME',\n\tDEMINIMIZE_FRAME: 'DEMINIMIZE FRAME',\n\tCLOSE_FILE: 'CLOSE FILE',\n\tMINIMIZE_FILE: 'MINIMIZE FILE',\n\tOPEN_FILE: 'OPEN FILE',\n\tDEMINIMIZE_FILE: 'DEMINIMIZE FILE', \n\tSAVE_FILE: 'SAVE FILE',\n\tSET_LEAD_APP: 'SET LEAD APP',\n\tSET_ABOUT_IN_VIEW: 'SET ABOUT IN VIEW',\n\tSET_LOADING: 'SET LOADING'\n}","const C = require('./constant.js');\n\nfunction Reducer(state,action){\n\treturn {\n\t\tDesktop: {\n\t\t\tentries:desktopRed(state.Desktop.entries,action)\n\t\t},\n\t\tOpenFolders: openFoldRed(state,action),\n\t\tOpenFrames: openFrameRed(state.OpenFrames,action),\n\t\tOpenFiles: openFileRed(state.OpenFiles,action),\n\t\tDockItems: dockRed(state,action),\n\t\tKindImg: state.KindImg,\n\t\tleadApp: leadAppRed(state.leadApp,action),\n\t\taboutView: aboutRed(state.aboutView, action),\n\t\tloading:  loadingRed(state.loading, action),\n\t\tskills: state.skills,\n\t\tprojects: state.projects,\n\t\tcontact: state.contact\n\t}\n}\n\nfunction desktopRed(state,action){\n\tlet { type, payload } = action,\n\t{ id, name, kind, text } = payload || {},\n\tnewState, \n\tfile,\n\tlength = state.length;\n\n\tif(type == C.ADD_ENTRY){\n\t\tif(!name || !kind){\n\t\t\tconsole.error(action);\n\t\t\tthrow Error(\"Text or src or kind are unavailable\");\n\t\t}\n\t\tnewState = [...state, { name,kind }];\n\t}\n\telse if(type == C.REMOVE_ENTRY){\n\t\tif(id === undefined){\n\t\t\tconsole.error(action);\n\t\t\tthrow Error(\"undefined id\");\n\t\t}\n\t\tnewState = [...state];\n\t\tnewState.splice(id,1);\n\t}\n\telse if(type == C.SAVE_FILE){\n\t\tfor(let i=0; i < length; i++){\n\t\t\tif(state[i].name == name){\n\t\t\t\tnewState = [...state];\n\t\t\t\tnewState[i].text = text;\n\t\t\t\treturn newState;\n\t\t\t}\n\t\t}\n\t\tconsole.error(\"File not in desktop entries\");\n\t\treturn state;\n\t}\n\telse{\n\t\treturn state;\n\t}\n\treturn newstate;\n}\n\nfunction openFoldRed(state,action){\n\tlet { type, payload } = action,\n\t{ desktopId, id } = payload || {},\n\topenFolders = state.OpenFolders,\n\tdesktopEntries = state.Desktop && state.Desktop.entries || [],\n\tentry = desktopEntries[desktopId],\n\tnewState;\n\n\tif(type == C.OPEN_FOLDER){\n\t\tif(desktopId == undefined){\n\t\t\tconsole.error(action);\n\t\t\tthrow Error(\"No desktop id given\");\n\t\t}\n\t\telse if(!entry){\n\t\t\tconsole.error(desktopId, desktopEntries);\n\t\t\tthrow Error(\"Desktop entries don't have the given id\");\n\t\t}\n\t\telse{\n\t\t\tif(openFolders.every((x)=> x.name != entry.name)){\n\t\t\t\topenFolders = [...openFolders, entry];\n\t\t\t\tconsole.log(\"folder opened\",action);\n\t\t\t}\n\t\t}\n\t\treturn openFolders;\n\t}\n\telse if(type == C.CLOSE_FOLDER){\n\t\tif(openFolders[id]){\n\t\t\topenFolders = [...openFolders];\n\t\t\topenFolders.splice(id,1);\n\t\t}\n\t\telse{\n\t\t\tthrow Error(`Folder with id ${id} is not known`);\n\t\t}\n\t\treturn openFolders;\n\t}\n\telse if(type == C.MINIMIZE_FOLDER){\n\t\tif(openFolders[id]){\n\t\t\topenFolders = [...openFolders];\n\t\t\topenFolders[id].minimized = true;\n\t\t}\n\t\telse{\n\t\t\tthrow Error(`Folder with id ${id} is not known`);\n\t\t}\n\t\treturn openFolders;\n\t}\n\telse if(type == C.DEMINIMIZE_FOLDER){\n\t\tif(openFolders[id]){\n\t\t\topenFolders = [...openFolders];\n\t\t\topenFolders[id].minimized = false;\n\t\t}\n\t\telse{\n\t\t\tthrow Error(`Folder with id ${id} is not knwon`);\n\t\t}\n\t\treturn openFolders;\n\t}\n\telse{\n\t\treturn openFolders;\n\t}\n}\n\nfunction openFileRed(state,action){\n\tlet { type, payload } = action,\n\t{ id, name, kind, text } = payload || {},\n\tnewState;\n\n\tif(type == C.OPEN_FILE){\n\t\tif(name != undefined && text != undefined){\n\t\t\treturn [...state, { name, text, kind }];\n\t\t}\n\t\telse{\n\t\t\tconsole.error(action);\n\t\t\tthrow Error('name or text or dockImg absten');\n\t\t}\n\t}\n\telse if(type == C.CLOSE_FILE){\n\t\tif(state[id]){\n\t\t\tnewState = [...state];\n\t\t\tnewState.splice(id,1);\n\t\t\treturn newState;\n\t\t}\n\t\telse{\n\t\t\tthrow Error(`id ${id} not known`);\n\t\t}\n\t}\n\telse if(type == C.MINIMIZE_FILE){\n\t\tif(state[id]){\n\t\t\tnewState = [...state];\n\t\t\tnewState[id].minimized = true;\n\t\t\treturn newState;\n\t\t}\n\t\telse{\n\t\t\tthrow Error(`id ${id} not known`);\n\t\t}\n\t}\n\telse if(type == C.DEMINIMIZE_FILE){\n\t\tif(state[id]){\n\t\t\tnewState = [...state];\n\t\t\tnewState[id].minimized = false;\n\t\t\treturn newState;\n\t\t}\n\t\telse{\n\t\t\tthrow Error(`id ${id} not known`);\n\t\t}\n\t}\n\telse if(type == C.SAVE_FILE){\n\t\tif(state[id]){\n\t\t\tnewState = [...state];\n\t\t\tnewState[id].text = text;\n\t\t\treturn newState;\n\t\t}\n\t\telse {\n\t\t\tthrow Error(`id ${id} not known`);\n\t\t}\n\t}\n\telse{\n\t\treturn state;\n\t}\n}\n\nfunction openFrameRed(state,action){\n\tlet { type, payload } = action,\n\t{ link , id, name, kind } = payload || {},\n\tnewState;\n\n\tif(type == C.OPEN_FRAME){\n\t\tif(state.every((x)=> x.link != link)){\n\t\t\tnewState = [...state, { link, name, kind }];\n\t\t\treturn newState;\n\t\t}\n\t\treturn state;\n\t}\n\telse if(type == C.CLOSE_FRAME){\n\t\treturn state.filter((x)=> x.link != link);\n\t}\n\telse if(type == C.MINIMIZE_FRAME){\n\t\tif(state[id]){\n\t\t\tnewState = [...state];\n\t\t\tnewState[id].minimized = true;\n\t\t\treturn newState;\n\t\t}\n\t\tthrow Error(`id ${id} not known`);\n\t}\n\telse if(type == C.DEMINIMIZE_FRAME){\n\t\tif(state[id]){\n\t\t\tnewState = [...state];\n\t\t\tnewState[id].minimized = false;\n\t\t\treturn newState;\n\t\t}\n\t\tthrow Error(`id ${id} not known`);\n\t}\n\telse{\n\t\treturn state;\n\t}\n}\n\nfunction dockRed(state,action){\n\tlet { type, payload } = action,\n\t{ desktopId, kind } = payload || {},\n\tr,\n\tDockItems = state.DockItems,\n\tKindImages = state.KindImg,\n\tappSrc = kind && KindImages[kind].appSrc,\n\tnewState;\n\n\tif(type == C.OPEN_FOLDER){\n\t\tnewState = [...DockItems];\n\t\tif(DockItems.every((x)=> x.src != appSrc)){\n\t\t\tnewState.push({ src:appSrc });\n\t\t}\n\t\t\n\t\treturn newState;\n\t}\n\telse if(type == C.OPEN_FRAME){\n\t\tif(DockItems.every((x)=> x.src != appSrc)){\n\t\t\tnewState = [...DockItems, { src: appSrc, active:true }];\n\t\t\treturn newState;\n\t\t}\n\t\treturn DockItems;\n\t}\n\telse if(type == C.CLOSE_FRAME){\n\t\tif(state.OpenFrames.length < 2){\n\t\t\tnewState = DockItems.filter((x)=> x.src != appSrc);\n\t\t\treturn newState;\n\t\t}\n\t\treturn DockItems;\n\t}\n\telse if(type == C.OPEN_FILE){\n\t\tif(DockItems.every((x)=> x.src != appSrc)){\n\t\t\tnewState = [...DockItems, { src:appSrc, active:true }];\n\t\t\treturn newState;\n\t\t}\n\t\treturn DockItems;\n\t}\n\telse if(type == C.CLOSE_FILE){\n\t\tif(state.OpenFiles.length < 2){\n\t\t\tnewState = DockItems.filter((x)=> x.src != appSrc);\n\t\t\treturn newState;\n\t\t}\n\t\treturn DockItems;\n\t}\n\telse{\n\t\treturn DockItems;\n\t}\n}\n\nfunction leadAppRed(state,action){\n\tlet { type, payload } = action,\n\t{ kind } = payload || {};\n\n\tif(type == C.SET_LEAD_APP){\n\t\tif(kind){\n\t\t\tif(kind == 'folder'){\n\t\t\t\treturn {\n\t\t\t\t\tname:'Finder',\n\t\t\t\t\tkind\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(kind == 'html'){\n\t\t\t\treturn {\n\t\t\t\t\tname:'Safari',\n\t\t\t\t\tkind\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(kind == 'text'){\n\t\t\t\treturn {\n\t\t\t\t\tname:'SublimeText',\n\t\t\t\t\tkind\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tconsole.error(\"Unknwon kind\",kind);\n\t\t\t\tthrow Error(\"Unknwon kind\");\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tconsole.error(\"No kind given\",kind);\n\t\t\tthrow Error(\"No kind given\")\n\t\t}\n\t}\n\telse if(type == C.OPEN_FILE){\n\t\treturn {\n\t\t\tname:'SublimeText',\n\t\t\tkind:'text'\n\t\t}\n\t}\n\telse if(type == C.OPEN_FOLDER){\n\t\treturn {\n\t\t\tname:'Finder',\n\t\t\tkind:'folder'\n\t\t}\n\t}\n\telse if(type == C.OPEN_FRAME){\n\t\treturn {\n\t\t\tname:'Safari',\n\t\t\tkind:'html'\n\t\t}\n\t}\n\telse if(type == C.CLOSE_FILE || type == C.CLOSE_FRAME){\n\t\treturn {\n\t\t\tname:'Finder',\n\t\t\tkind:'folder'\n\t\t}\n\t}\n\telse\n\t\treturn state;\n}\n\nfunction aboutRed(state,action){\n\tlet { type, payload } = action,\n\t{ display } = payload || {};\n\n\tif(type == C.SET_ABOUT_IN_VIEW){\n\t\tif(display !== true && display !== false){\n\t\t\tconsole.error(\"bad payload given\",action);\n\t\t\tthrow Error(\"Bad payload\");\n\t\t}\n\t\telse{\n\t\t\treturn display;\n\t\t}\n\t}\n\treturn state;\n}\n\nfunction loadingRed(state,action){\n\tlet { type, payload } = action,\n\t{ template } = payload || {};\n\n\tif(type == C.SET_LOADING){\n\t\tif(template){\n\t\t\treturn template;\n\t\t}\n\t\telse{\n\t\t\tconsole.error(\"No template given\",action);\n\t\t\tthrow Error(\"No template given\");\n\t\t}\n\t}\n\treturn state;\n}\n\nmodule.exports = Reducer;","function desktopEntriesSelector(state){\n\treturn state.Desktop.entries;\n}\n\nfunction openFoldersSelector(state){\n\treturn state.OpenFolders;\n}\n\nfunction dockItemsSelector(state){\n\treturn state.DockItems;\n}\n\nfunction openFramesSelector(state){\n\treturn state.OpenFrames;\n}\n\nfunction openFilesSelector(state){\n\treturn state.OpenFiles;\n}\nfunction kindImageSelector(state){\n\treturn state.KindImg\n}\nfunction leadAppSelector(state){\n\treturn state.leadApp;\n}\nfunction aboutInViewSelector(state){\n\treturn state.aboutView\n}\nfunction loadingSelector(state){\n\treturn state.loading;\n}\nfunction skillsSelector(state){\n\treturn state.skills;\n}\nfunction projectsSelector(state){\n\treturn state.projects;\n}\nfunction contactSelector(state){\n\treturn state.contact;\n}\n\nexports.desktopEntriesSelector = desktopEntriesSelector;\nexports.openFoldersSelector = openFoldersSelector;\nexports.dockItemsSelector = dockItemsSelector;\nexports.openFramesSelector = openFramesSelector;\nexports.openFilesSelector = openFilesSelector;\nexports.kindImageSelector = kindImageSelector;\nexports.leadAppSelector = leadAppSelector;\nexports.aboutInViewSelector = aboutInViewSelector;\nexports.contactSelector = contactSelector;\nexports.loadingSelector = loadingSelector;\nexports.skillsSelector = skillsSelector;\nexports.projectsSelector = projectsSelector;","const macKindImage = {\n\ttext:{ src:'psd/txt-type.png', appSrc: 'psd/sublime-text.png' },\n\tfolder:{ src:'psd/folder.png', appSrc:'psd/finder.png' },\n\thtml:{  src:'psd/html-type.png', appSrc: 'psd/safari.png'},\n\tmail:{ appSrc:'psd/mail.png' },\n\tmusic: { appSrc:'psd/vlc.png' }\n},\nwindowKindImage = {\n\ttext:{ src:'psd/txt-type.png', appSrc: 'psd/notepad.png' },\n\tfolder:{ src:'psd/win-folder.png', appSrc: 'psd/win-folder.png' },\n\thtml:{  src:'psd/html-type.png', appSrc:'psd/microsoft-edge.png'},\n\tmail:{ src:'psd/mail.png' },\n\tmusic: { src:'psd/vlc.png' }\n},\nskills = [\n\t{ name:'javascript', src:'psd/javascript.png' },\n\t{ name:'redux', src:'psd/redux.png' },\n\t{ name:'graphql', src:'psd/graphql.png' },\n\t{ name:'nodejs', src:'psd/nodejs.png' },\n\t{ name:'css', src:'psd/css3.png' },\n\t{ name:'html', src:'psd/html.png' },\n\t{ name:'mongodb', src:'psd/mongodb.png' },\n\t{ name:'rest', src:'psd/rest-api.png' },\n\t{ name:'git', src:'psd/git.png' },\n\t{ name:'lambda', src:'psd/awslambda.png' }\n],\nprojects = [\n\t{ name:'Akting', link:'https://accounting.abelkashoba.me', description:\"Akting is a book keeping project that allow you to track your expense and your input to get a better view or picture of your spending pattern.\", kind:'html' },\n\t{ name:'SongA', link:\"https://song.abelkashoba.me\", description:\"SongA is apn App that allow streaming of song Text. It's also a songBook app\", kind:'html' }\n],\nstate = {\n\tDesktop:{\n\t\tentries:[\n\t\t\t{ \n\t\t\t\tkind:'text',\n\t\t\t\tname:'Skills',\n\t\t\t\ttext:skills.map((skill)=> skill.name).join('\\n')\n\t\t\t}, \n\t\t\t{\n\t\t\t\tname:'Project',\n\t\t\t\tkind:'folder',\n\t\t\t\tentries:projects.map(({name,link, kind})=> ({name,link,kind}))\n\t\t\t}\n\t\t]\n\t},\n\tKindImg:{\n\n\t},\n\tOpenFolders:[],\n\tOpenFrames: [],\n\tOpenFiles: [],\n\tDockItems: [],\n\tskills:[],\n\tprojects:[],\n\tcontact:{\n\t\tmail:['lebakashoba@hotmail.fr'],\n\t\tsocials:[\n\t\t\t{ src:'psd/github.png', link:\"https://github.com/JohnNkou\" },\n\t\t\t{ src:'psd/linkedin.png', link:\"https://www.linkedin.com/in/leba-kashoba-124951153\" }\n\t\t]\n\t},\n\tloading:''\n},\nmacDockItems = [\n\t{ \n\t\tsrc: macKindImage.folder.appSrc\n\t}, \n\t{ \n\t\tsrc: macKindImage.text.appSrc\n\t}\n],\nwindowDockItems = [\n\t{\n\t\tsrc: windowKindImage.html.appSrc\n\t},\n\t{\n\t\tsrc:windowKindImage.folder.appSrc\n\t}\n],\nleadApp = {\n\tname:'Finder',\n\tkind:'folder'\n},\naboutView = false;\n\nexports.state = state;\nexports.macDock = macDockItems;\nexports.windowDock = windowDockItems;\nexports.windowKindImage = windowKindImage;\nexports.macKindImage = macKindImage;\nexports.leadApp = leadApp;\nexports.aboutView = aboutView;\nexports.skills = skills;\nexports.projects = projects;\n","function moveObject(toAttach,toMove){\n\n\tif(!toAttach || !(\"textContent\" in toAttach)){\n\t\tthrow Error(\"The first argument should be a Dom node\");\n\t}\n\tif(!toMove || !(\"textContent\") in toMove){\n\t\tthrow Error(\"The second argument should be a Dom node\");\n\t}\n\n\tlet body = document.body;\n\n\ttoAttach.onmousedown = (event)=>{\n\t\tlet x = event.clientX,\n\t\ty = event.clientY,\n\t\tgcs = getComputedStyle(toMove),\n\t\tmL = parseInt(gcs.marginLeft,10),\n\t\tmT = parseInt(gcs.marginTop,10);\n\n\t\tif(mL){\n\t\t\ttoMove.style.left = mL + parseFloat(gcs.left) + \"px\";\n\t\t\ttoMove.style.marginLeft = toMove.style.marginRight = '0px';\n\t\t}\n\t\tif(mT){\n\t\t\ttoMove.style.top = mT + parseFloat(gcs.top,10) + \"px\";\n\t\t\ttoMove.style.marginTop = toMove.style.marginBottom = '0px';\n\t\t}\n\n\t\tbody.addEventListener('mouseup',upHandler);\n\t\tbody.addEventListener('mousemove',moveHandler);\n\n\t\tfunction upHandler(event){\n\t\t\tbody.removeEventListener('mouseup',upHandler);\n\t\t\tbody.removeEventListener('mousemove',moveHandler);\n\t\t}\n\t\tfunction moveHandler(event){\n\t\t\tevent.preventDefault();\n\n\t\t\tlet nx = event.clientX,\n\t\t\tny = event.clientY,\n\t\t\tdfX = nx -x,\n\t\t\tdfY = ny -y,\n\t\t\tnewBx = parseFloat(gcs.left) + dfX,\n\t\t\tnewBy = parseFloat(gcs.top) + dfY;\n\n\t\t\tx = nx;\n\t\t\ty = ny;\n\n\t\t\ttoMove.style.left = newBx + \"px\";\n\t\t\ttoMove.style.top = newBy + \"px\"; \n\t\t}\n\t}\n}\n\nfunction Tower(){\n\tlet topics = {},\n\tid = 0;\n\n\tthis.subscribe = (topic,fn)=>{\n\t\tif(!(topic in topics)){\n\t\t\ttopics[topic] = {[id]:fn};\n\t\t}\n\t\t\n\t\ttopics[topic][id] = fn;\n\n\t\treturn id++;\n\t}\n\tthis.publish = (topic,payload)=>{\n\t\tlet subscriber;\n\t\tif(topic in topics){\n\t\t\tfor(let id in topics[topic]){\n\t\t\t\tsubscriber = topics[topic][id];\n\t\t\t\tsubscriber(payload);\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tconsole.error('topics dont have a',topic,'topic');\n\t\t\tconsole.log(topics);\n\t\t\tthrow Error(\"Unknown topic \"+topic);\n\t\t}\n\t}\n\tthis.unsubscribe = (topic,id)=>{\n\t\tif(topic in topics){\n\t\t\tif(id in topics[topic]){\n\t\t\t\treturn delete topics[topic][id];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthrow Error(`id ${id} not in topic ${topic}`)\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tthrow Error(\"Unknown topic\");\n\t\t}\n\t}\n}\n\nfunction animate(){\n\tlet width = parseInt(this.gcp.width,10),\n\torWidth = width,\n\tdif = 40,\n\tnode = this.node,\n\tself = this;\n\n\trequestAnimationFrame(move);\n\n\tfunction move(){\n\t\tif(width){\n\t\t\twidth = Math.max(width - 40,0);\n\t\t\tnode.style.width = width + \"px\";\n\t\t\trequestAnimationFrame(move);\n\t\t}\n\t\telse{\n\t\t\tself.setState({ show: false });\n\t\t\tnode.style.width = orWidth + \"px\";\n\t\t}\n\t}\n}\n\nfunction buttonsHandler({ closeAction, minimizeAction,fullScreenAction, otherAction }){\n\n\tfunction handler(event){\n\t\tlet target = event.target,\n\t\tclassName = target.className,\n\t\tstore = this.store,\n\t\t{ id } = this.props,\n\t\t{ fullscreen } = this.state,\n\t\tgcp = this.gcp;\n\n\t\tif(className.indexOf('close') != -1){\n\t\t\tcloseAction();\n\t\t}\n\t\telse if(className.indexOf('minimize') != -1){\n\t\t\tthis.animate();\n\t\t\tminimizeAction();\n\t\t}\n\t\telse if(className.indexOf('fullscreen') != -1){\n\t\t\tif(!fullscreen){\n\t\t\t\tthis.top = parseInt(gcp.top,10);\n\t\t\t\tthis.width = parseInt(gcp.width,10);\n\t\t\t\tthis.height = parseInt(gcp.height,10);\n\t\t\t\tthis.left = parseInt(gcp.left,10);\n\n\t\t\t\tthis.node.style.top = \"0px\";\n\t\t\t\tthis.node.style.left = '0px';\n\t\t\t\tthis.node.style.width = window.innerWidth + \"px\";\n\t\t\t\tthis.node.style.height = window.innerHeight - this.headerHeight + \"px\";\n\n\t\t\t\tthis.setState({fullscreen:true});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.node.style.top = this.top + \"px\";\n\t\t\t\tthis.node.style.left = this.left + \"px\";\n\t\t\t\tthis.node.style.width = this.width + \"px\";\n\t\t\t\tthis.node.style.height = this.height + \"px\";\n\t\t\t\tthis.setState({fullscreen:false});\n\t\t\t}\n\t\t}\n\n\t\tif(otherAction){\n\t\t\totherAction();\n\t\t}\n\t}\n\n\treturn handler;\n}\n\nfunction setLeaderView(store,Tower){\n\tlet state = store.getState(),\n\topens = state.OpenFolders.length + state.OpenFrames.length + state.OpenFiles.length;\n\n\tthis.node.style.zIndex = 10;\n\tTower.publish('newLeaderView',this.node);\n}\n\nexports.moveObject = moveObject;\nexports.Tower = Tower;\nexports.animate = animate;\nexports.buttonsHandler = buttonsHandler;\nexports.setLeaderView = setLeaderView;","const React = require('react'),\n{ unmountComponentAtNode } = require('react-dom'),\n{ useEffect, useState } = require('react'),\n{ ReactReduxContext } = require('react-redux'),\n{ moveObject, animate, setLeaderView, Tower } = require('../src/utilis.js');\n\nlet myTower = new Tower();\n\nfunction Loading(props){\n\tvar [show, setState] = useState(true),\n\tloadClass = (show)? '':'whoosh';\n\n\tuseEffect(()=>{\n\t\tsetState(false);\n\t},[show]);\n\n\treturn (\n\t\t<div id='loading' className={loadClass}>\n        <img src='psd/loading-circle.gif' /><div className='tight'></div>\n    </div>\n\t)\n}\n\nclass MovableItem extends React.Component{\n\tconstructor(props,context){\n\t\tsuper(props);\n\n\t\tthis.nodeRef = React.createRef();\n\t\tthis.headRef = React.createRef();\n\t\tthis.animate = animate.bind(this);\n\t\tthis.state = { show: true, fullscreen:false };\n\t\tthis.setLeaderView = setLeaderView.bind(this);\n\t\tthis.nodeClickHandler = this.nodeClickHandler.bind(this);\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.node = this.nodeRef.current;\n\t\tthis.head = this.headRef.current;\n\t\tthis.gcp = getComputedStyle(this.node);\n\t\tthis.subId = myTower.subscribe('newLeaderView',(node)=>{\n\t\t\tif(this.node != node){\n\t\t\t\tthis.node.style.zIndex = 0;\n\t\t\t}\n\t\t})\n\n\t\tmoveObject(this.head,this.node);\n\t\tthis.setLeaderView(this.store,myTower);\n\t}\n\n\tnodeClickHandler(event){\n\t\tthis.setLeaderView(this.store,myTower);\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t}\n\n\t componentWillUnmount(){\n\t \tmyTower.unsubscribe('newLeaderView',this.subId);\n\t \tthis.node.onclick = this.head.onclick = null;\n\t }\n\n\t render(){\n\t \treturn null;\n\t }\n}\n\nclass MacLoading extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.barRef = React.createRef();\n\t\tthis.progressRef = React.createRef();\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.bar = this.barRef.current;\n\t\tthis.progress = this.progressRef.current;\n\n\t\tdocument.title = 'Abel Kashoba - Mac Template'\n\n\t\tvar xml = new XMLHttpRequest(),\n\t\tlinks = document.querySelectorAll('link'),\n\t\ttoChange = Array.prototype.filter.call(links,(link)=> link.href.indexOf('common') == -1)[0];\n\t\ttoChange.href = 'css/mac/main.css';\n\n\t\tif(toChange){\n\t\t\txml.open('GET','dist/macBundle.js',true);\n\t\t\txml.onprogress = (event)=>{\n\t\t\t\tif(event.lengthComputable){\n\t\t\t\t\tthis.progress.style.width = (event.loaded / event.total) * 100 + \"%\";\n\t\t\t\t}\n\t\t\t}\n\t\t\txml.onload = (event)=>{\n\t\t\t\tif(xml.status >= 200 && xml.status < 300){\n\t\t\t\t\tunmountComponentAtNode(document.body);\n\t\t\t\t\teval(xml.response || xml.responseText);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthrow Error(xml.response || xml.responseText);\n\t\t\t\t}\n\t\t\t}\n\t\t\txml.send();\n\t\t}\n\t\telse{\n\t\t\tthrow Error(\"Links not found\");\n\t\t}\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<div id='macLoading'>\n                <div className='first il vmid'>\n                        <div className='icon'>\n                                <img src='psd/big-apple.png' />\n                        </div>\n                        <div ref={this.barRef} className='bar'>\n                                        <span ref={this.progressRef} className='progress'></span>\n                        </div>\n                </div><div className='tight vmid'></div>\n        \t</div>\n\t\t)\n\t}\n}\n\nclass WindowLoading extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount(){\n\t\tvar xml = new XMLHttpRequest(),\n\t\tlinks = document.querySelectorAll('link'),\n\t\ttoChange = Array.prototype.filter.call(links,(link)=> link.href.indexOf('common') == -1)[0];\n\t\ttoChange.href = 'css/window/main.css';\n\n\t\tdocument.title = 'Abel Kashoba - Window Template'\n\n\t\tif(toChange){\n\t\t\txml.open('GET','dist/windowBundle.js',true);\n\t\t\txml.onload = (event)=>{\n\t\t\t\tif(xml.status >= 200 && xml.status < 300){\n\t\t\t\t\tunmountComponentAtNode(document.body);\n\t\t\t\t\teval(xml.response || xml.responseText);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthrow Error(xml.response || xml.responseText);\n\t\t\t\t}\n\t\t\t}\n\t\t\txml.send();\n\t\t}\n\t\telse{\n\t\t\tthrow Error(\"Links not found\");\n\t\t}\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<div id='windowLoading'>\n                <div className='first il vmid'>\n                        <div className='icon'>\n                                <img src='psd/big-window.png' />\n                        </div>\n                        <div className='animation'>\n                                <div className='circle'>\n                                        <img src='' />\n                                </div>\n                                <div className='info'>\n                                        Loading data\n                                </div>\n                        </div>\n                </div><div className='tight vmid'></div>\n        \t</div>\n\t\t)\n\t}\n}\n\nclass CustomLoading extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount(){\n\t\tvar xml = new XMLHttpRequest(),\n\t\tlinks = document.querySelectorAll('link'),\n\t\ttoChange = Array.prototype.filter.call(links,(link)=> link.href.indexOf('common') == -1)[0];\n\t\ttoChange.href = 'css/custom/main.css';\n\n\t\tdocument.title = 'Abel Kashoba - Custom Template'\n\n\t\tif(toChange){\n\t\t\txml.open('GET','dist/customBundle.js',true);\n\t\t\txml.onload = (event)=>{\n\t\t\t\tif(xml.status >= 200 && xml.status < 300){\n\t\t\t\t\tunmountComponentAtNode(document.body);\n\t\t\t\t\teval(xml.response || xml.responseText);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthrow Error(xml.response || xml.responseText);\n\t\t\t\t}\n\t\t\t}\n\t\t\txml.send();\n\t\t}\n\t\telse{\n\t\t\tthrow Error(\"Links not found\");\n\t\t}\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<div id='customLoading'>\n\t\t        <div className='wrapper il vmid'>\n\t\t            <div className='il'>\n\t\t                <img src=\"psd/custom_loading.gif\" />\n\t\t            </div>\n\t\t            <div className='status'>\n\t\t                <span>Loading</span>\n\t\t            </div>\n\t\t        </div><div className='tight vmid'></div>\n\t\t    </div>\n\t\t)\n\t}\n}\n\nfunction Time(props){\n\tlet [state,setState] = useState(new Date()),\n\tdayName = [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\n\tminutes = state.getMinutes(),\n\tminutesString = (String(minutes).length > 1)? minutes: `0${minutes}`,\n\tdateString = `${dayName[state.getDay()]} ${state.getHours()}:${minutesString}`;\n\n\tuseEffect(()=>{\n\t\tlet seconds = 60 - state.getSeconds(),\n\t\tcounter;\n\n\t\tsetTimeout(()=>{\n\t\t\tsetState(new Date());\n\t\t\tcounter = setInterval(()=>{\n\t\t\t\tsetState(new Date());\n\t\t\t},60000)\n\t\t},seconds);\n\n\t\treturn ()=>{ clearInterval(counter) };\n\t},[true]) \n\treturn (\n\t\t<div id=\"time\" className=\"il\">\n            <span>{dateString}</span>\n        </div>\n\t)\n}\n\nexports.Loading = Loading;\nexports.MovableItem = MovableItem;\nexports.myTower = myTower;\nexports.MacLoading = MacLoading;\nexports.WindowLoading = WindowLoading;\nexports.CustomLoading = CustomLoading;\nexports.Time = Time;","const React = require('react'),\n{ useEffect, useState } = React,\n{ Loading, MovableItem, myTower, WindowLoading, CustomLoading, Time } = require('./common.jsx'),\n{ moveObject, Tower, animate, buttonsHandler, setLeaderView } = require('../src/utilis.js'),\n{ useSelector, useDispatch, ReactReduxContext } = require('react-redux'),\n{ addEntry, removeEntry, openFolder, closeFolder, minimizeFolder, deminimizeFolder, openFrame, closeFrame, minimizeFrame, deminimizeFrame, closeFile, minimizeFile, openFile, deminimizeFile, setLeadApp, saveFile, setAboutInView, setLoading } = require('../src/actionCreator.js'),\n{ desktopEntriesSelector, openFoldersSelector, dockItemsSelector, openFramesSelector, openFilesSelector, kindImageSelector, leadAppSelector, aboutInViewSelector, loadingSelector  } = require('../src/selector.js');\n\nfunction Root(props){\n\treturn (\n\t\t<html>\n\t\t\t<head>\n\t\t\t\t<title>Abel Kashoba - Mac Template</title>\n\t\t\t\t<link rel='stylesheet' href='css/mac/main.css' />\n\t\t\t\t<link rel='stylesheet' href='css/common.css' />\n\t\t\t\t<meta name='author' content='Abel Kashoba' />\n\t\t\t\t<meta name='description' content=\"Abel Kashoba Mac Template is an MacOs like presentation of my Porfolio\" />\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t<App />\n\t\t\t\t<script src='dist/macBundle.js'></script>\n\t\t\t</body>\n\t\t</html>\n\t)\n}\n\nfunction App(props){\n\tlet mounted = false,\n\tloading = useSelector(loadingSelector),\n\tLoadingComponent = null;\n\n\tif(loading == 'window'){\n\t\tLoadingComponent = <WindowLoading />\n\t}\n\telse if(loading == 'custom'){\n\t\tLoadingComponent = <CustomLoading />\n\t}\n\n\tuseEffect(()=>{\n\t\tlet body = document.body;\n\t\tbody.onclick = function(event){\n\t\t\tmyTower.publish('clear');\n\t\t}\n\n\t\treturn ()=>{\n\t\t\tbody.onclick = null;\n\t\t}\n\t},[mounted])\n\treturn (\n\t\t<>\n\t\t\t<Loading />\n\t\t\t<Header />\n\t\t\t<Desktop />\n\t\t\t<DockItems />\n\t\t\t{LoadingComponent}\n\t\t</>\n\t)\n}\n\nfunction Header(props){\n\treturn (\n\t\t<div id='header'>\n\t\t\t<Apple />\n\t\t\t<AppName />\n\t\t\t<MenuAction />\n\t\t\t<Time />\n\t\t</div>\n\t)\n}\n\nclass Apple extends React.PureComponent{\n\tconstructor(props,context){\n\t\tsuper(props);\n\t\tthis.store = context.store;\n\t\tthis.state = { show:false, aboutInView: this.store.getState().aboutView };\n\t\tthis.appleTogglerRef = React.createRef();\n\t\tthis.aboutTogglerRef = React.createRef();\n\t}\n\n\tcomponentWillUnmount(){\n\t\tmyTower.unsubscribe('clear',this.subId)\n\t\tthis.unsubscribe();\n\t}\n\n\tcomponentDidMount(){\n\t\tlet store = this.store;\n\t\tthis.subId = myTower.subscribe('clear',()=>{\n\t\t\tif(this.state.show){\n\t\t\t\tthis.setState({ show:false });\n\t\t\t}\n\t\t})\n\t\tthis.unsubscribe = store.subscribe(()=>{\n\t\t\tlet state = store.getState(),\n\t\t\t{ aboutInView } = this.state;\n\n\t\t\tif(state.aboutView != aboutInView){\n\t\t\t\tthis.setState({ aboutInView:state.aboutView });\n\t\t\t}\n\t\t})\n\t\tthis.appleToggler = this.appleTogglerRef.current;\n\t\tthis.aboutToggler = this.aboutTogglerRef.current;\n\n\t\tthis.appleToggler.onclick = (event)=>{\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tthis.setState({ show: !this.state.show });\n\t\t}\n\t\tthis.aboutToggler.onclick = (event)=>{\n\t\t\tlet { aboutInView } = this.state;\n\n\t\t\tif(!aboutInView){\n\t\t\t\tthis.store.dispatch(setAboutInView({display:true}));\n\t\t\t}\n\t\t}\n\t}\n\n\trender(){\n\t\tlet { show, aboutView } = this.state,\n\t\tmenuClass = `menu${(show)? '': ' whoosh'}`,\n\t\ticonClass = `icon${(show)?' active':''}`,\n\t\tappleBlackClass = (show)? 'whoosh':'',\n\t\tappleBlueClass = (show)? '':'whoosh';\n\n\t\treturn (\n\t\t\t<div id=\"apple\" className=\"il\">\n\t            <div className={iconClass}><a ref={this.appleTogglerRef} href=\"#\"><img className={appleBlackClass} src=\"psd/apple.png\" /><img className={appleBlueClass} src=\"psd/apple-white.png\" /></a></div>\n\t            <div className={menuClass}>\n\t                <div className=\"menuText\">\n\t                    <span ref={this.aboutTogglerRef}>About Me</span>\n\t                </div>\n\t                <div className=\"menuText\">\n\t                    <span>Change template</span><img src='psd/next.png' />\n\t                    <div className='menu'>\n\t                        <div className='menuText'>\n\t                            <a href=\"?template=window\" onClick={(event)=>{ event.preventDefault(); event.stopPropagation(); this.store.dispatch(setLoading({ template:'window' })) }}>Windows</a>\n\t                        </div>\n\t                        <div className='menuText'>\n\t                            <a href=\"?template=custom\" onClick={(event)=> { event.preventDefault(); event.stopPropagation(); this.store.dispatch(setLoading({ template:'custom' })) }}>Custom</a>\n\t                        </div>\n\t                    </div>\n\t                </div>\n\t            </div>\n\t        </div>\n\t\t)\n\t}\n}\nApple.contextType = ReactReduxContext;\n\nfunction AppName(props){\n\tlet MenuAction,\n\tappDetails = useSelector(leadAppSelector),\n\t[show, setState] = useState(false);\n\n\tif(appDetails.kind == 'folder'){\n\t\tMenuAction = <FolderAction show={show} />;\n\t}\n\telse if(appDetails.kind == 'text'){\n\t\tMenuAction = <FileAction show={show} />;\n\t}\n\telse if(appDetails.kind == 'html'){\n\t\tMenuAction = <FrameAction show={show} />\n\t}\n\telse{\n\t\tMenuAction = null\n\t}\n\n\tuseEffect(()=>{\n\t\tlet subId = myTower.subscribe('clear',()=>{\n\t\t\tsetState(false);\n\t\t})\n\n\t\treturn ()=> myTower.unsubscribe('clear',subId);\n\t},[false])\n\n\treturn (\n\t\t<div id='app' className='il'>\n            <div className='wrap'><span className='vmid' onClick={(event)=> { event.nativeEvent.stopImmediatePropagation(); event.nativeEvent.preventDefault(); setState(!show)}} className='appName'>{appDetails.name}</span><div className='tight vmid'></div></div>\n            {MenuAction}\n        </div>\n\t)\n}\n\nfunction FolderAction({show}){\n\tlet folders = useSelector(openFoldersSelector),\n\tshowClose = folders.length && true,\n\tcloseClass = (showClose)? 'menuText':'menuText whoosh',\n\tdispatch = useDispatch(),\n\tnodeClass = `menu${(show)? '':' whoosh'}`\n\n\treturn (\n\t\t<div className={nodeClass}>\n            <div className={closeClass}>\n                <span onClick={(event)=>{\n                \tfolders.forEach((x,id)=>{\n                \t\tdispatch(closeFolder({id}))\n                \t})\n                }} >Close</span>\n            </div>\n        </div>\n\t)\n}\n\nfunction FileAction({show}){\n\tlet files = useSelector(openFilesSelector),\n\tdispatch = useDispatch(),\n\tnodeClass = `menu${(show)? '':' whoosh'}`\n\n\treturn (\n\t\t<div className={nodeClass}>\n\t\t\t<div className='menuText'>\n\t\t\t\t<span onClick={()=>{\n\t\t\t\t\tfiles.forEach(({kind},id)=>{\n\t\t\t\t\t\tdispatch(closeFile({id,kind}));\n\t\t\t\t\t})\n\t\t\t\t}}>Close</span>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction FrameAction({show}){\n\tlet frames = useSelector(openFramesSelector),\n\tdispatch = useDispatch(),\n\tnodeClass = `menu${(show)? '':' whoosh'}`\n\n\treturn (\n\t\t<div className={nodeClass}>\n\t\t\t<div className='menuText'>\n\t\t\t\t<span onClick={()=>{\n\t\t\t\t\tframes.forEach(({link,kind},id)=>{\n\t\t\t\t\t\tdispatch(closeFrame({id,link, kind}));\n\t\t\t\t\t})\n\t\t\t\t}}>Close</span>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction FileMenuAction(){\n\tlet [state,setState] = useState({active:false, payload:{}}),\n\tactive = state.active,\n\tpayload = state.payload,\n\tdispatch = useDispatch(),\n\tnameClass = `name${(active)? ' active':''}`,\n\tmenuClass = `menu${(active)? '': ' whoosh'}`;\n\n\tuseEffect(()=>{\n\t\tlet subId = myTower.subscribe('CURRENT FILE',(payload)=>{\n\t\t\tsetState({payload, active});\n\t\t});\n\t\tmyTower.publish('FileMenuMounted');\n\n\t\treturn ()=> myTower.unsubscribe('CURRENT FILE',subId);\n\t},[true])\n\n\treturn (\n\t\t<div id='menuAction' className='il'>\n\t\t\t<div onClick={()=> setState({ active:!active, payload })} className={nameClass}>\n\t\t\t\t<span className='vmid'>File</span><div className='tight vmid'></div>\n\t\t\t</div>\n\t\t\t<div className={menuClass}>\n\t\t\t\t<div className='menuText' onClick={()=> dispatch(saveFile(payload))}>\n\t\t\t\t\t<span>Save</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction MenuAction(props){\n\tlet appDetails = useSelector(leadAppSelector),\n\tToolsAction;\n\n\tif(appDetails.kind == 'text'){\n\t\tToolsAction = <FileMenuAction />;\n\t}\n\telse{\n\t\tToolsAction = null;\n\t}\n\n\treturn ToolsAction;\n}\n\n\n\nfunction Desktop(props){\n\tlet folders = useSelector(openFoldersSelector),\n\tframes = useSelector(openFramesSelector),\n\tfiles = useSelector(openFilesSelector),\n\tkindImages = useSelector(kindImageSelector);\n\n\treturn (\n\t\t<div id='desktop'>\n\t\t\t<List kindImages={kindImages} />\n\t\t\t{folders.map((x,i)=>{\n\t\t\t\treturn <Folder id={i} {...x} key={x.name} kindImages={kindImages} />\n\t\t\t})}\n\t\t\t{frames.map((x,i)=>{\n\t\t\t\treturn <Safari id={i} {...x} key={x.link} />\n\t\t\t})}\n\t\t\t{files.map((x,i)=>{\n\t\t\t\treturn <SublimeText id={i} {...x} key={x.name} />\n\t\t\t})}\n\t\t\t<About />\n\t\t\t<ContextMenu />\n\t\t</div>\n\t)\n}\n\nfunction List({kindImages}){\n\tlet entries = useSelector(desktopEntriesSelector);\n\n\treturn (\n\t\t<div className='desktopItems'>\n\t\t\t{entries.map((o,i)=>{\n\t\t\t\treturn (\n\t\t\t\t\t<DesktopItem id={i} {...o} key={i} kindImages={kindImages} />\n\t\t\t\t)\n\t\t\t})}\n\t\t</div>\n\t)\n}\n\nclass DesktopItem extends React.Component{\n\tconstructor(props, context){\n\t\tsuper(props);\n\n\t\tthis.wrapRef = React.createRef();\n\t\tthis.iconRef = React.createRef();\n\t\tthis.state = { active:false };\n\t\tthis.store = context.store;\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.wrap = this.wrapRef.current;\n\t\tthis.icon = this.iconRef.current;\n\t\tthis.subId = myTower.subscribe('clear',()=>{\n\t\t\tlet { active } = this.state;\n\n\t\t\tif(active){\n\t\t\t\tthis.setState({ unactive:true });\n\t\t\t}\n\t\t})\n\n\t\tmoveObject(this.icon, this.wrap);\n\n\t\tthis.icon.onclick = (event)=>{\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tmyTower.publish('clear');\n\n\t\t\tlet { unactive } = this.state;\n\n\t\t\tif(unactive === undefined){\n\t\t\t\tthis.setState({ active:true});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.setState({ unactive:false })\n\t\t\t}\n\t\t}\n\t\tthis.icon.ondblclick = (event)=>{\n\t\t\tlet { src, name, id, kind, text } = this.props;\n\n\t\t\tif(kind == 'folder')\n\t\t\t\tthis.store.dispatch(openFolder({ desktopId: id, kind }))\n\t\t\telse if(kind == 'text'){\n\t\t\t\tthis.store.dispatch(openFile({ name, text, kind }))\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount(){\n\t\tmyTower.unsubscribe('clear',this.subId);\n\t}\n\n\trender(){\n\t\tlet { props, state } = this, \n\t\t{ kind, name, kindImages } = props,\n\t\t{ active, unactive } = state,\n\t\twrapClass = `wrapper${(active)?' active':''}${(unactive)?' unactive':''}`;\n\n\t\treturn (\n\t\t\t<div className='item il'>\n\t\t\t\t<div ref={this.wrapRef} className={wrapClass}>\n\t\t\t\t\t<div ref={this.iconRef} className='icon'><img src={kindImages[kind].src} /></div>\n\t\t\t\t\t<div className='text'><span>{name}</span></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\nDesktopItem.contextType = ReactReduxContext;\n\nclass Folder extends MovableItem{\n\tconstructor(props,context){\n\t\tsuper(props);\n\t\tthis.store = context.store;\n\t}\n\n\tcomponentDidMount(){\n\t\tsuper.componentDidMount();\n\n\t\tlet store = this.store,\n\t\tself = this,\n\t\t{ id, kind } = this.props;\n\t\tthis.header = document.getElementById('header');\n\t\tthis.headerHeight = parseInt(getComputedStyle(this.header).height);\n\t\tthis.unsubscribe = store.subscribe(()=>{\n\t\t\tlet state = this.store.getState(),\n\t\t\tid = this.props.id,\n\t\t\topenFolder = state.OpenFolders,\n\t\t\tthisFolder = openFolder[id];\n\n\t\t\tif(thisFolder && !thisFolder.minimized && !this.state.show){\n\t\t\t\tthis.node.style.width = this.gcp.width;\n\t\t\t\tthis.setState({ show: true });\n\t\t\t}\n\t\t})\n\n\t\tthis.head.onclick = buttonsHandler({\n\t\t\tcloseAction:()=>{\n\t\t\t\tstore.dispatch(closeFolder({id}));\n\t\t\t},\n\t\t\tminimizeAction:()=>{\n\t\t\t\tstore.dispatch(minimizeFolder({id}));\n\t\t\t},\n\t\t\totherAction:()=> this.setLeaderView(store,myTower)\n\t\t}).bind(this);\n\n\t\tthis.node.onclick = (event)=>{\n\t\t\tlet state = store.getState();\n\n\t\t\tsuper.nodeClickHandler(event);\n\t\t\tmyTower.publish('clearContent');\n\n\t\t\tif(state.leadApp.kind != kind){\n\t\t\t\tstore.dispatch(setLeadApp({ kind }))\n\t\t\t}\n\t\t}\n\t\tthis.setLeaderView(store,myTower);\n\t}\n\n\tcomponentWillUnmount(){\n\t\tsuper.componentWillUnmount();\n\t\tthis.unsubscribe();\n\t}\n\n\trender(){\n\t\tlet { props, state } = this,\n\t\t{ show, fullscreen } = state,\n\t\t{entries, kindImages, name} = props,\n\t\tnodeClass = `folder il box${(show)?'':' whoosh'} ${(fullscreen)?'full':''}`\n\n\t\treturn (\n\t\t\t<div ref={this.nodeRef} className={nodeClass}>\n\t            <div ref={this.headRef} className=\"head\">\n\t                <Buttons />\n\t                <div className=\"currentFolder\">\n\t                    <div className=\"icon il\"><img src={kindImages.folder.src}/></div>\n\t                    <div className=\"name il\">{name}</div>\n\t                </div>\n\t            </div>\n\t            <div className=\"content\">\n\t            \t{entries.map((s,i)=>{\n\t            \t\treturn <ContentItem {...s} key={i} kindImages={kindImages} />\n\t            \t})}\n\t                \n\t            </div>\n\t            <div className=\"bottom\"></div>\n\t        </div>\n\t\t)\n\t}\n}\nFolder.contextType = ReactReduxContext;\n\nclass ContentItem extends React.Component{\n\tconstructor(props,context){\n\t\tsuper(props);\n\t\tthis.state = { active: false };\n\t\tthis.nodeRef = React.createRef();\n\t\tthis.store = context.store;\n\t}\n\n\tcomponentDidMount(){\n\t\tlet store = this.store;\n\t\tthis.node = this.nodeRef.current;\n\t\tthis.subId = myTower.subscribe('clearContent',(node)=>{\n\t\t\tif(node != this.node){\n\t\t\t\tlet { active } = this.state;\n\n\t\t\t\tif(active){\n\t\t\t\t\tthis.setState({ active:false });\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tthis.node.onclick = (event)=>{\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tlet { active } = this.state;\n\n\t\t\tmyTower.publish('clearContent',this.node)\n\n\t\t\tif(!active){\n\t\t\t\tthis.setState({ active:true });\n\t\t\t}\n\t\t}\n\t\tthis.node.ondblclick = (event)=>{\n\t\t\tlet { link, name, kind } = this.props;\n\n\t\t\tif(link){\n\t\t\t\tstore.dispatch(openFrame({ link, name, kind }));\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\t}\n\n\trender(){\n\t\tlet { kind,name, kindImages } = this.props, \n\t\t{ active } = this.state,\n\t\tlistClass = `list${(active)? ' active':''}`;\n\n\t\treturn (\n\t\t\t<div ref={this.nodeRef} className={listClass}>\n\t\t        <div className='icon il'>\n\t\t            <img src={kindImages[kind].src} />\n\t\t        </div>\n\t\t        <div className='name il'>{name}</div>\n\t\t    </div>\n\t\t)\n\t}\n}\nContentItem.contextType = ReactReduxContext;\n\nclass Safari extends MovableItem{\n\tconstructor(props,context){\n\t\tsuper(props);\n\n\t\tthis.inputRef = React.createRef();\n\t\tthis.frameRef = React.createRef();\n\t\tthis.store = context.store;\n\t}\n\n\tcomponentDidMount(){\n\t\tsuper.componentDidMount();\n\n\t\tlet store = this.store,\n\t\tself = this,\n\t\t{ id,src, link, kind } = this.props\n\t\tthis.input = this.inputRef.current;\n\t\tthis.frame = this.frameRef.current;\n\t\tthis.header = document.getElementById('header');\n\t\tthis.headerHeight = parseInt(getComputedStyle(this.header).height, 10);\n\t\tthis.gcp = getComputedStyle(this.node);\n\t\tthis.unsubscribe = store.subscribe(()=>{\n\t\t\tlet state = store.getState(),\n\t\t\t{ show } = this.state,\n\t\t\tOpenFrames = state.OpenFrames,\n\t\t\tframe = OpenFrames[id];\n\n\t\t\tif(OpenFrames.length){\n\t\t\t\tif(frame){\n\t\t\t\t\tif(!frame.minimized && !show){\n\t\t\t\t\t\tthis.setState({ show:true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tconsole.error(OpenFrames,id);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tthis.head.onclick = buttonsHandler({\n\t\t\tcloseAction:()=>{\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tstore.dispatch(closeFrame({link,kind}));\n\t\t\t},\n\t\t\tminimizeAction:()=>{\n\t\t\t\tstore.dispatch(minimizeFrame({id}));\n\t\t\t},\n\t\t\totherAction: ()=> this.setLeaderView(store,myTower)\n\t\t}).bind(this);\n\n\t\tthis.node.onclick = (event)=> {\n\t\t\tlet state = store.getState();\n\n\t\t\tsuper.nodeClickHandler(event);\n\n\t\t\tif(state.leadApp.kind != 'html'){\n\t\t\t\tstore.dispatch(setLeadApp({ kind:'html' }));\n\t\t\t}\n\t\t};\n\n\t\tthis.input.onchange = (event)=>{\n\t\t\tthis.frame.src = this.input.value;\n\t\t}\n\t\tthis.setLeaderView(store,myTower);\n\t}\n\n\tcomponentWillUnmount(){\n\t\tsuper.componentWillUnmount();\n\t\tthis.unsubscribe();\n\t}\n\n\trender(){\n\t\tlet { link } = this.props,\n\t\t{ show, fullscreen } = this.state,\n\t\tnodeClass = `safari il box${(show)? '':' whoosh'} ${(fullscreen)? 'full':''}`;\n\n\t\treturn (\n\t\t\t<div ref={this.nodeRef} className={nodeClass}>\n\t            <div ref={this.headRef} className=\"head\">\n\t                <Buttons />\n\t                <div className=\"url\">\n\t                    <input ref={this.inputRef} type='text' placeholder={link} />\n\t                </div>\n\t            </div>\n\t            <div className='frame'>\n\t            \t<iframe ref={this.frameRef} src={link} />\n\t            </div>\n\t            <div className=\"bottom\"></div>\n\t        </div>\n\t\t)\n\t}\n}\nSafari.contextType = ReactReduxContext;\n\nclass SublimeText extends MovableItem{\n\tconstructor(props,context){\n\t\tsuper(props);\n\t\tthis.store = context.store;\n\t\tthis.textareaRef = React.createRef();\n\t}\n\n\tcomponentDidMount(){\n\t\tsuper.componentDidMount();\n\n\t\tlet store = this.store,\n\t\t{ id, name, text, kind } = this.props;\n\t\tthis.textarea = this.textareaRef.current;\n\t\tthis.header = document.getElementById('header');\n\t\tthis.headerHeight = parseInt(getComputedStyle(this.header).height, 10);\n\t\tthis.subId2 = myTower.subscribe('FileMenuMounted',()=>{\n\t\t\tmyTower.unsubscribe('FileMenuMounted',this.subId2);\n\t\t\tmyTower.publish('CURRENT FILE', { id,name,text,kind });\n\t\t})\n\t\tthis.unsubscribe = store.subscribe(()=>{\n\t\t\tlet state = store.getState(),\n\t\t\t{ show } = this.state,\n\t\t\tOpenFiles = state.OpenFiles,\n\t\t\tfile = OpenFiles[id];\n\n\t\t\tif(file){\n\t\t\t\tif(!file.minimized && !show){\n\t\t\t\t\tthis.setState({ show:true })\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.head.onclick = buttonsHandler({\n\t\t\tcloseAction:()=>{\n\t\t\t\tthis.unsubscribe();\n\t\t\t\tstore.dispatch(closeFile({ id }))\n\t\t\t}, \n\t\t\tminimizeAction:()=>{\n\t\t\t\tstore.dispatch(minimizeFile({id}));\n\t\t\t},\n\t\t\totherAction: ()=> this.setLeaderView(store,myTower)\n\t\t}).bind(this);\n\n\t\tthis.node.onclick = (event)=> {\n\t\t\tlet state = store.getState(),\n\t\t\t{ kind, id, name, text } = this.props;\n\n\t\t\tsuper.nodeClickHandler(event);\n\n\t\t\tif(state.leadApp.kind != kind){\n\t\t\t\tstore.dispatch(setLeadApp({kind}));\n\t\t\t}\n\n\t\t\tmyTower.publish('CURRENT FILE',{ id, name, text, kind });\n\t\t}\n\t\tthis.textarea.value = text;\n\t\tthis.textarea.onchange = (event)=>{\n\t\t\tlet { kind, id, name, text } = this.props;\n\n\t\t\tmyTower.publish('CURRENT FILE', { id, name, text: this.textarea.value, kind });\n\t\t}\n\t\tthis.setLeaderView(store,myTower); console.log('publish');\n\t}\n\n\tcomponentWillUnmount(){\n\t\tsuper.componentWillUnmount();\n\t\tthis.unsubscribe();\n\t}\n\n\trender(){\n\t\tlet { name, text } = this.props,\n\t\t{ show, fullscreen } = this.state,\n\t\tnodeClass = `sublimeText il box${(show)? '':' whoosh'} ${(fullscreen)? 'full':''}`\n\n\t\treturn (\n\t\t\t<div ref={this.nodeRef} className={nodeClass}>\n\t            <div ref={this.headRef} className=\"head\">\n\t                <Buttons />\n\t                <div className='fileName'>\n\t                    <span>{name}</span>\n\t                </div>\n\t            </div>\n\t            <div className=\"content\">\n\t                <textarea ref={this.textareaRef}></textarea>\n\t            </div>\n\t            <div className=\"bottom\"></div>\n\t        </div>\n\t\t)\n\t}\n}\nSublimeText.contextType = ReactReduxContext;\n\nfunction Buttons(){\n\treturn (\n\t\t<div className=\"buttons\">\n\t\t    <div className='icon il'>\n\t\t        <img className='close' src='psd/mac-close.png' />\n\t\t    </div>\n\t\t    <div className='icon il'>\n\t\t        <img className='minimize' src='psd/mac-minimize.png' />\n\t\t    </div>\n\t\t    <div className='icon il'>\n\t\t        <img className='fullscreen' src='psd/mac-full-screen.png' />\n\t\t    </div>\n\t     </div>\n\t)\n}\n\nfunction ContextMenu(props){\n\treturn (\n\t\t<div className='contextMenu menu whoosh'>\n\t\t\t{[{ text:'New Folder' }, { text:'New Tact' }, { text:'New Grace' }].map(({text},i)=>{\n\t\t\t\treturn (\n\t\t\t\t\t<div key={i} className='menuText'>\n\t\t\t\t\t\t<span>{text}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t})}\n\t\t</div>\n\t)\n}\n\nfunction DockItems(props){\n\tlet docks = useSelector(dockItemsSelector),\n\tkindImages = useSelector(kindImageSelector);\n\treturn (\n\t\t<div id='docker'>\n\t\t\t<div className='il dockWrap'>\n\t\t\t\t{docks.map((o,i)=>{\n\t\t\t\t\treturn <Dock {...o} key={i} kindImages={kindImages} />\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nclass Dock extends React.Component{\n\tconstructor(props,context){\n\t\tsuper(props);\n\n\t\tthis.state = { showIndicator:false };\n\t\tthis.store = context.store;\n\t\tthis.minimized = false;\n\t\tthis.nodeRef = React.createRef();\n\t\tthis.ids = [];\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.node = this.nodeRef.current;\n\t\tthis.unsubscribe = this.store.subscribe(()=>{\n\t\t\tlet state = this.store.getState(),\n\t\t\t{ showIndicator } = this.state,\n\t\t\t{ src, kindImages } = this.props,\n\t\t\tdata;\n\n\t\t\tif(src == kindImages.folder.appSrc){\n\t\t\t\tif(state.OpenFolders.length){\n\t\t\t\t\tdata = state.OpenFolders[0];\n\t\t\t\t\tthis.ids = [0];\n\n\t\t\t\t\tif(!showIndicator){\n\t\t\t\t\t\tthis.setState({showIndicator:true});\n\t\t\t\t\t}\n\t\t\t\t\tif(!this.minimized && data.minimized){\n\t\t\t\t\t\tthis.minimized = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(showIndicator){\n\t\t\t\t\t\tthis.setState({ showIndicator:false });\n\t\t\t\t\t}\n\t\t\t\t\tthis.ids = [];\n\t\t\t\t} \n\t\t\t}\n\t\t\telse if(src == kindImages.html.appSrc){\n\t\t\t\tif(state.OpenFrames.length){\n\t\t\t\t\tif(this.ids.length != state.OpenFrames.length){\n\t\t\t\t\t\tthis.ids = state.OpenFrames.map((x,i)=> i);\n\t\t\t\t\t}\n\t\t\t\t\tif(!showIndicator){\n\t\t\t\t\t\tthis.setState({ showIndicator:true })\n\t\t\t\t\t}\n\t\t\t\t\telse if(state.OpenFrames.some((frame)=> frame.minimized)){\n\t\t\t\t\t\tif(!this.minimized){\n\t\t\t\t\t\t\tthis.minimized = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if(this.minimized){\n\t\t\t\t\t\tthis.minimized = false;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(showIndicator){\n\t\t\t\t\t\tthis.setState({ showIndicator:false });\n\t\t\t\t\t}\n\t\t\t\t\tthis.ids = [];\n\t\t\t\t} \n\t\t\t}\n\t\t\telse if(src == kindImages.text.appSrc){\n\t\t\t\tif(state.OpenFiles.length){\n\n\t\t\t\t\tif(this.ids.length != state.OpenFiles.length){\n\t\t\t\t\t\tthis.ids = state.OpenFiles.map((x,i)=> i);\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!showIndicator){\n\t\t\t\t\t\tthis.setState({ showIndicator:true });\n\t\t\t\t\t}\n\t\t\t\t\telse if(state.OpenFiles.some((file)=> file.minimized)){\n\t\t\t\t\t\tif(!this.minimized){\n\t\t\t\t\t\t\tthis.minimized = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if(this.minimized){\n\t\t\t\t\t\tthis.minimized = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(showIndicator){\n\t\t\t\t\t\tthis.setState({ showIndicator: false });\n\t\t\t\t\t}\n\t\t\t\t\tthis.ids = [];\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tthis.node.onclick = (event)=>{\n\t\t\tlet store = this.store,\n\t\t\t{ src, kindImages } = this.props,\n\t\t\tdeminimizeAction;\n\n\t\t\tif(src == kindImages.folder.appSrc){\n\t\t\t\tdeminimizeAction = deminimizeFolder;\n\t\t\t}\n\t\t\telse if(src == kindImages.html.appSrc){\n\t\t\t\tdeminimizeAction = deminimizeFrame;\n\t\t\t}\n\t\t\telse if(src == kindImages.text.appSrc){\n\t\t\t\tdeminimizeAction = deminimizeFile;\n\t\t\t}\n\n\t\t\tif(this.minimized){\n\t\t\t\tif(this.ids.length){\n\t\t\t\t\tif(src == kindImages.folder.appSrc){\n\t\t\t\t\t\tstore.dispatch(deminimizeAction({id:this.ids[0]}));\n\t\t\t\t\t}\n\t\t\t\t\telse if(src == kindImages.html.appSrc){\n\t\t\t\t\t\tstore.getState().OpenFrames.forEach((frame,i)=>{\n\t\t\t\t\t\t\tif(frame.minimized){\n\t\t\t\t\t\t\t\tstore.dispatch(deminimizeAction({ id:i }));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\telse if(src == kindImages.text.appSrc){\n\t\t\t\t\t\tstore.dispatch(deminimizeAction({ id:this.ids[0] }));\n\t\t\t\t\t}\n\t\t\t\t\tthis.minimized = false;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthrow Error(\"Item minimized but without an id\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(src == kindImages.folder.appSrc){\n\t\t\t\t\tif(!this.ids.length){\n\t\t\t\t\t\tlet desktopEntries = store.getState().Desktop.entries,\n\t\t\t\t\t\tid=0, length = desktopEntries.length;\n\n\t\t\t\t\t\twhile(id < length){\n\t\t\t\t\t\t\tif(desktopEntries[id].kind == 'folder'){\n\t\t\t\t\t\t\t\tstore.dispatch(openFolder({ desktopId:id }))\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tid++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\n\t\tif(this.props.active && !this.state.showIndicator){\n\t\t\tthis.setState({ showIndicator:true });\n\t\t}\n\t}\n\n\tcomponentWillUnmount(){\n\t\tthis.unsubscribe();\n\t}\n\n\trender(){\n\t\tlet { props, state } = this,\n\t\t{ src, active } = props,\n\t\t{ showIndicator } = state,\n\t\tindicatorClass = `indicator${(showIndicator || active)? '':' whine'}`,\n\t\tdockClass = `dock il${(showIndicator || active)?' animate':''}`;\n\n\t\treturn (\n\t\t\t<div ref={this.nodeRef} className={dockClass}>\n\t\t\t\t<div className='icon'>\n\t\t\t\t\t<img src={src} />\n\t\t\t\t</div>\n\t\t\t\t<div className={indicatorClass}>\n\t\t\t\t\t<span>.</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\nDock.contextType = ReactReduxContext;\n\n\nclass About extends MovableItem{\n\tconstructor(props, context){\n\t\tsuper(props);\n\t\tthis.store = context.store;\n\t\tthis.state = { display: this.store.getState().aboutView, presentation:true, skills:false, contact:false};\n\t\tthis.changeView = this.changeView.bind(this);\n\t\tthis.presRef = React.createRef();\n\t\tthis.skillRef = React.createRef();\n\t\tthis.contRef = React.createRef();\n\t\tthis.closeRef = React.createRef();\n\t\tthis.socialsRef = React.createRef();\n\t\tthis.skills = this.store.getState().skills;\n\t\tthis.contact = this.store.getState().contact;\n\t}\n\n\tcomponentDidMount(){\n\t\tlet store = this.store;\n\t\tthis.pres = this.presRef.current;\n\t\tthis.skill = this.skillRef.current;\n\t\tthis.cont = this.contRef.current;\n\t\tthis.close = this.closeRef.current;\n\t\tthis.socials = this.socialsRef.current;\n\n\t\tthis.unsubscribe = store.subscribe(()=>{\n\t\t\tlet state = store.getState(),\n\t\t\t{ display } = this.state;\n\n\t\t\tif(display != state.aboutView){\n\t\t\t\tthis.setState({ display: state.aboutView });\n\t\t\t}\n\t\t})\n\n\t\tsuper.componentDidMount();\n\n\t\tthis.node.onclick = (event)=> super.nodeClickHandler(event);\n\t\tthis.pres.onclick = (event)=>{\n\t\t\tif(!this.state.presentation){\n\t\t\t\tthis.setState({ presentation:true, skills:false, contact:false })\n\t\t\t}\n\t\t}\n\t\tthis.skill.onclick = (event)=>{\n\t\t\tif(!this.state.skills){\n\t\t\t\tthis.setState({ skills:true, presentation:false, contact:false })\n\t\t\t}\n\t\t}\n\t\tthis.cont.onclick = (event)=>{\n\t\t\tif(!this.state.contact){\n\t\t\t\tthis.setState({ contact:true, presentation:false, skills:false })\n\t\t\t}\n\t\t}\n\t\tthis.close.onclick = (event)=>{\n\t\t\tthis.store.dispatch(setAboutInView({ display:false }))\n\t\t}\n\t\tthis.socials.onclick = (event)=>{\n\t\t\tevent.stopPropagation();\n\t\t}\n\t}\n\tcomponentWillUnmount(){\n\t\tsuper.componentWillUnmount();\n\t\tthis.unsubscribe();\n\t}\n\n\tchangeView(){\n\t\tthis.setState({ display:false });\n\t}\n\n\trender(){\n\t\tlet { display,presentation, skills, contact } = this.state,\n\t\tnodeClass = `about il box${(display)? '':' whoosh'}`,\n\t\tpresClass = `tab il${(presentation)? ' active':''}`,\n\t\tpres2Class = `pres${(presentation)?'':' whoosh'}`,\n\t\tskillClass = `tab il${(skills)? ' active':''}`,\n\t\tskill2Class = `skills${(skills)? '':' whoosh'}`,\n\t\tcontClass = `tab il${(contact)? ' active':''}`,\n\t\tcont2Class = `contact${(contact)? '':' whoosh'}`,\n\t\tskillsClass = 'skill il',\n\t\ticonClass = 'icon',\n\t\tnameClass = 'name',\n\t\tsocialClass = 'social il';\n\n\t\treturn (\n\t\t\t<div ref={this.nodeRef} className={nodeClass}>\n\t            <div ref={this.headRef} className=\"head\">\n\t                <div className=\"buttons\">\n\t                    <div ref={this.closeRef} className='icon il close'>\n\t                        <img onClick={this.changeView} src='psd/mac-close.png' />\n\t                    </div>\n\t                    <div className='icon il minimize'>\n\t                        <img src='psd/mac-minimize.png' />\n\t                    </div>\n\t                    <div className='icon il fullscreen'>\n\t                        <img src='psd/mac-full-screen.png' />\n\t                    </div>\n\t                </div>\n\t                <div className=\"tabs\">\n\t                    <div className={presClass}>\n\t                        <span ref={this.presRef}>Presentation</span>\n\t                    </div><div className={skillClass}>\n\t                        <span ref={this.skillRef}>Skills</span>\n\t                    </div><div className={contClass}>\n\t                        <span ref={this.contRef}>Contact</span>\n\t                    </div>\n\t                </div>\n\t            </div>\n\t            <div className=\"content\">\n\t                <div className={pres2Class}>\n\t                    <h1>Hi, I'm Abel Kashoba</h1>\n\t                    <p>A software developer who like to build\n\t                    reliable app the scale well and are high preformant</p>\n\t                </div>\n\t                <div className={skill2Class}>\n\t                \t{this.skills.map(({ name, src })=>{\n\t                \t\treturn (\n\t                \t\t\t<div key={name} className={skillsClass}>\n\t\t\t                        <div className={iconClass}>\n\t\t\t                            <img src={src} />\n\t\t\t                        </div>\n\t\t\t                        <div className={nameClass}>\n\t\t\t                            {name}\n\t\t\t                        </div>\n\t\t\t                    </div>\n\t                \t\t)\n\t                \t})}\n\t                </div>\n\t                <div className={cont2Class}>\n\t                    <div className='wrapper vmid il'>\n\t                        <div className='mail'>\n\t                            <h2>Mail</h2>\n\t                            <span>{this.contact.mail}</span>\n\t                        </div>\n\t                        <div ref={this.socialsRef} className='socials'>\n\t                            <h2>Socials</h2>\n\t                            {this.contact.socials.map(({ src, link })=>{\n\t                            \treturn (\n\t                            \t\t<div key={link} className={socialClass}>\n\t\t\t                                <a target='blank' href={link}><img src={src} /></a>\n\t\t\t                            </div>\n\t                            \t)\n\t                            })}\n\t                        </div>\n\t                    </div><div className='tight vmid'></div>\n\t                </div>\n\t            </div>\n\t        </div>\n\t\t)\n\t}\n}\nAbout.contextType = ReactReduxContext;\n\nexports.Root = Root;\nexports.App = App;"],"names":["store","App","require","render","createStore","Provider","Reducer","state","macDock","macKindImage","leadApp","windowKindImage","aboutView","skills","projects","React","DockItems","KindImg","document","body","C","exports","addEntry","payload","type","ADD_ENTRY","removeEntry","REMOVE_ENTRY","openFolder","OPEN_FOLDER","closeFolder","CLOSE_FOLDER","minimizeFolder","MINIMIZE_FOLDER","deminimizeFolder","DEMINIMIZE_FOLDER","openFrame","OPEN_FRAME","closeFrame","CLOSE_FRAME","minimizeFrame","MINIMIZE_FRAME","deminimizeFrame","DEMINIMIZE_FRAME","closeFile","CLOSE_FILE","minimizeFile","MINIMIZE_FILE","openFile","OPEN_FILE","deminimizeFile","DEMINIMIZE_FILE","saveFile","SAVE_FILE","setLeadApp","SET_LEAD_APP","setAboutInView","SET_ABOUT_IN_VIEW","setLoading","SET_LOADING","module","desktopRed","action","newState","id","name","kind","text","length","console","error","Error","i","undefined","splice","newstate","openFoldRed","desktopId","openFolders","OpenFolders","desktopEntries","Desktop","entries","entry","every","x","log","minimized","openFileRed","openFrameRed","link","filter","dockRed","KindImages","appSrc","src","push","active","OpenFrames","OpenFiles","leadAppRed","aboutRed","display","loadingRed","template","loading","contact","desktopEntriesSelector","openFoldersSelector","dockItemsSelector","openFramesSelector","openFilesSelector","kindImageSelector","leadAppSelector","aboutInViewSelector","contactSelector","loadingSelector","skillsSelector","projectsSelector","folder","html","mail","music","description","map","skill","join","socials","macDockItems","windowDockItems","windowDock","moveObject","toAttach","toMove","onmousedown","event","clientX","y","clientY","gcs","getComputedStyle","mL","parseInt","marginLeft","mT","marginTop","moveHandler","preventDefault","nx","ny","dfX","dfY","newBx","parseFloat","left","newBy","top","style","marginRight","marginBottom","addEventListener","upHandler","removeEventListener","Tower","topics","this","subscribe","topic","fn","publish","subscriber","unsubscribe","animate","width","gcp","orWidth","node","self","requestAnimationFrame","move","Math","max","setState","show","buttonsHandler","closeAction","minimizeAction","otherAction","fullScreenAction","className","target","fullscreen","props","indexOf","height","window","innerWidth","innerHeight","headerHeight","setLeaderView","getState","zIndex","unmountComponentAtNode","useEffect","useState","ReactReduxContext","myTower","Loading","loadClass","MovableItem","context","nodeRef","createRef","headRef","bind","nodeClickHandler","current","head","subId","stopPropagation","onclick","Component","MacLoading","barRef","progressRef","componentDidMount","bar","progress","title","xml","XMLHttpRequest","links","querySelectorAll","toChange","Array","prototype","call","href","open","onprogress","lengthComputable","loaded","total","onload","status","response","responseText","eval","send","ref","WindowLoading","CustomLoading","Time","Date","minutes","getMinutes","minutesString","String","dateString","getDay","getHours","counter","seconds","getSeconds","setTimeout","setInterval","clearInterval","useSelector","useDispatch","LoadingComponent","Header","Apple","AppName","MenuAction","aboutInView","appleTogglerRef","aboutTogglerRef","appleToggler","aboutToggler","dispatch","menuClass","iconClass","appleBlackClass","appleBlueClass","onClick","PureComponent","appDetails","FolderAction","FileAction","FrameAction","nativeEvent","stopImmediatePropagation","folders","closeClass","nodeClass","forEach","files","frames","FileMenuAction","nameClass","kindImages","List","Folder","key","Safari","SublimeText","About","ContextMenu","o","DesktopItem","contextType","wrapRef","iconRef","wrap","icon","unactive","ondblclick","wrapClass","header","getElementById","thisFolder","Buttons","s","ContentItem","listClass","inputRef","frameRef","input","frame","onchange","value","placeholder","textareaRef","textarea","subId2","file","docks","Dock","showIndicator","ids","data","some","deminimizeAction","indicatorClass","dockClass","presentation","changeView","presRef","skillRef","contRef","closeRef","socialsRef","pres","cont","close","presClass","pres2Class","skillClass","skill2Class","contClass","cont2Class","Root","rel","content"],"sourceRoot":""}